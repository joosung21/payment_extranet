doctype
<!--[if IE 8]>
  <html lang="en" class="ie8 no-js">
<![endif]-->
<!--[if IE 9]>
  <html lang="en" class="ie9 no-js">
<![endif]-->
html(lang="en")
  <!--<![endif]-->
  head
    meta(charset="utf-8")
    title Extranet
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(content='width=device-width, initial-scale=1', name='viewport')
    //- GLOBAL MANDATORY STYLES
    link(href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all', rel='stylesheet', type='text/css')
    link(href='../assets/global/plugins/font-awesome/css/font-awesome.min.css', rel='stylesheet', type='text/css')
    link(href='../assets/global/plugins/simple-line-icons/simple-line-icons.min.css', rel='stylesheet', type='text/css')
    link(href='../assets/global/plugins/bootstrap/css/bootstrap.min.css', rel='stylesheet', type='text/css')
    link(href='../assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css', rel='stylesheet', type='text/css')
    //- PAGE LEVEL PLUGINS
    link(href='../assets/global/plugins/datatables/datatables.min.css', rel='stylesheet', type='text/css')
    link(href='../assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css', rel='stylesheet', type='text/css')
    link(href='../assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css', rel='stylesheet', type='text/css')
    //- THEME GLOBAL STYLES
    link#style_components(href='../assets/global/css/components.min.css', rel='stylesheet', type='text/css')
    link(href='../assets/global/css/plugins.min.css', rel='stylesheet', type='text/css')
    //- PAGE LEVEL STYLES

    //- THEME LAYOUT STYLES
    link(href='../assets/layouts/layout/css/layout.min.css', rel='stylesheet', type='text/css')
    link#style_color(href='../assets/layouts/layout/css/themes/darkblue.min.css', rel='stylesheet', type='text/css')
    link(href='../assets/layouts/layout/css/custom.min.css', rel='stylesheet', type='text/css')
    link(rel='shortcut icon', href='favicon.ico')
  body.page-header-fixed.page-sidebar-closed-hide-logo.page-content-white
    .page-wrapper
        //- HEADER
        .page-header.navbar.navbar-fixed-top
          //- HEADER INNER
          .page-header-inner
            //- LOGO
            .page-logo
              a(href="/")
                img(src="../assets/layouts/layout/img/logo.png", alt="logo", class="logo-default")
              .menu-toggler.sidebar-toggler
                span
            //- RESPONSIVE MENU TOGGLER
            a.menu-toggler.responsive-toggler(href='javascript:;', data-toggle='collapse', data-target='.navbar-collapse')
              span
        //- HEADER & CONTENT DIVIDER
        .clearfix
        //- CONTAINER
        .page-container
          //- SIDEBAR
          .page-sidebar-wrapper
            .page-sidebar.navbar-collapse.collapse
              //- SIDEBAR MENU
              ul.page-sidebar-menu.page-header-fixed(data-keep-expanded='false', data-auto-scroll='true', data-slide-speed='200', style='padding-top: 20px')
                //- SIDEBAR TOGGLER BUTTON
                li.sidebar-toggler-wrapper.hide
                  .sidebar-toggler
                    span
                //- SAY HELLO
                li.heading
                  h3.uppercase 모던 브라더스
                //- TASK MANAGEMENT MENU
                li.nav-item.start.active.open
                  a.nav-link.nav-toggle(href='javascript:;')
                    i.icon-check
                    span.title 판매내역
                    span.selected
                    //- span.arrow
                  //- ul.sub-menu
                    li.nav-item.active
                      a.nav-link(href='app_todo')
                        i.icon-check
                        span.title ToDo
                        span.selected
          //- CONTENT
          .page-content-wrapper
            //- CONTENT BODY
            .page-content
              //-- PAGE TITLE
              h1.page-title
                | 판매내역
                small ZARI GDS를 통해 판매된 주문 내역입니다.
              .col-md-6
                .alert.alert-warning.alert-dismissable
                  button.close(type='button', data-dismiss='alert', aria-hidden='true')
                  strong DEMO 설정
                  br
                  |  오늘은 12/27(화). 체크인날짜 18(일)까지는 모두 23(금)에 정산완료. 19(월)~25은(일)은 30(금)정산예정, 그 이후는 대기중.
              .row
                .col-md-12

                  //- LIST TABLE PORTLET
                  .portlet.light.bordered
                    .portlet-title
                      .caption.font-dark
                        i.icon-settings.font-dark
                        span.caption-subject.bold.uppercase Buttons
                      .tools
                    .portlet-body
                      table#gds_table1.table.table-striped.table-bordered.table-hover
                        thead
                          tr
                            th ID
                            th 판매채널
                            th 예약발생일
                            th 고객이름
                            th 체크인
                            th 판매금액
                            th 판매수수료
                            th 정산금
                            th 상태
                        tbody
                          each val in list
                            tr.odd.gradeX
                              td #{val.id}
                              td #{val.channel}
                              td #{moment(val.sold_date).format('YYYY/MM/DD')}
                              td #{val.name}
                              td #{moment(val.checkin).format('YYYY/MM/DD')}
                              -
                                Number.prototype.formatMoney = function(c, d, t){
                                var n = this,
                                  c = isNaN(c = Math.abs(c)) ? 2 : c,
                                  d = d == undefined ? "." : d,
                                  t = t == undefined ? "," : t,
                                  s = n < 0 ? "-" : "",
                                  i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),
                                  j = (j = i.length) > 3 ? j % 3 : 0;
                                 return s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "");
                                };
                                function currency(money){
                                  return Math.round(money).formatMoney(0, '.', ',');
                                }
                                var commition = val.gross_price * 0.15
                              td ₩ #{currency(val.gross_price)}
                              td ₩ #{currency(commition)}
                              td ₩ #{currency(val.gross_price - commition)}
                              td
                                case val.status
                                  when '정산완료'
                                    span.label.label-sm.label-default #{val.status}
                                  when '정산예정'
                                    span.label.label-sm.label-success #{val.status}
                                  when '대기중'
                                    span.label.label-sm.label-warning #{val.status}

    //- FOOTER
    .page-footer
      .page-footer-inner
        | 2017 © Extranet by Jay Ahn
        a(target='_blank', href='http://www.tport.io') T PORT INC.
      .scroll-to-top
        i.icon-arrow-up

    <!--[if lt IE 9]>
    <script src="../assets/global/plugins/respond.min.js"></script>
    <script src="../assets/global/plugins/excanvas.min.js"></script>
    <script src="../assets/global/plugins/ie8.fix.min.js"></script>
    <![endif]-->
    //- CORE PLUGINS
    script(src='../assets/global/plugins/jquery.min.js', type='text/javascript')
    script(src='../assets/global/plugins/bootstrap/js/bootstrap.min.js', type='text/javascript')
    script(src='../assets/global/plugins/js.cookie.min.js', type='text/javascript')
    script(src='../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js', type='text/javascript')
    script(src='../assets/global/plugins/jquery.blockui.min.js', type='text/javascript')
    script(src='../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js', type='text/javascript')
    //- PAGE LEVEL PLUGINS
    script(src='../assets/global/scripts/datatable.js', type='text/javascript')
    script(src='../assets/global/plugins/datatables/datatables.min.js', type='text/javascript')
    script(src='../assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js', type='text/javascript')
    script(src='../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js', type='text/javascript')
    //- THEME GLOBAL SCRIPTS
    script(src='../assets/global/scripts/app.min.js', type='text/javascript')
    //- PAGE LEVEL SCRIPTS
    //- script(src='../assets/pages/scripts/table-datatables-managed.min.js', type='text/javascript')
    script(src='../assets/pages/scripts/table-datatables-buttons.js', type='text/javascript')
    //- THEME LAYOUT SCRIPTS
    script(src='../assets/layouts/layout/scripts/layout.min.js', type='text/javascript')
    script(src='../assets/layouts/global/scripts/quick-sidebar.min.js', type='text/javascript')
    script(src='../assets/layouts/global/scripts/quick-nav.min.js', type='text/javascript')
    script(src='../lang/kr.js', type='text/javascript')
